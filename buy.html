<!DOCTYPE html><html><head>
<meta charset="UTF-8"><title>Product</title><link rel="stylesheet" href="style.css">
</head><body>
<header>
  <nav><a href="home.html">⬅ Marketplace</a></nav>
</header>

<article id="view"></article>
<button id="buyBtn" style="display:none">Buy – Cash on Delivery</button>

<script src="backend.js"></script><script>
const q = new URLSearchParams(location.search), id = q.get("id");
const p = DB.products.find(x=>x.id===id);
if(!p){ view.innerHTML="<p>Product not found</p>"; } else {
  view.innerHTML = `<h2>${p.name}</h2><p>${p.desc}</p><strong>₹${p.price}</strong>`;
  buyBtn.style.display="block";
}
buyBtn.onclick=()=>{
  placeOrder(id);
  // Prevent accidental duplicate order on refresh:
  history.replaceState(null,"","home.html");
  location.href="order-success.html";
};
</script></body></html>
